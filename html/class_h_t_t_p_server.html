<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: HTTPServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_h_t_t_p_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HTTPServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>HTTP server class.  TRequestHandler is a template argument that must conform to <a class="el" href="class_request_handler_base.html">RequestHandlerBase</a> for a class that will handle an http request and send the necessary response.  
 <a href="class_h_t_t_p_server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="http__server_8hpp_source.html">http_server.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3ccc2f74d6b566df84a08155a81dbf33"><td class="memItemLeft" align="right" valign="top"><a id="a3ccc2f74d6b566df84a08155a81dbf33"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HTTPServer</b> (const <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;)=delete</td></tr>
<tr class="separator:a3ccc2f74d6b566df84a08155a81dbf33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ff3249ee7308563225f0470f449ead"><td class="memItemLeft" align="right" valign="top"><a id="af0ff3249ee7308563225f0470f449ead"></a>
<a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;)=delete</td></tr>
<tr class="separator:af0ff3249ee7308563225f0470f449ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5f52fff7b98136607a692aa06d8ba4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#a5a5f52fff7b98136607a692aa06d8ba4">HTTPServer</a> (RequestHandlerFactory factory)</td></tr>
<tr class="memdesc:a5a5f52fff7b98136607a692aa06d8ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the server to listen on the specified TCP address and port.  <a href="#a5a5f52fff7b98136607a692aa06d8ba4">More...</a><br /></td></tr>
<tr class="separator:a5a5f52fff7b98136607a692aa06d8ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece3ed957213b41813b5eafff259ad9d"><td class="memItemLeft" align="right" valign="top"><a id="aece3ed957213b41813b5eafff259ad9d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#aece3ed957213b41813b5eafff259ad9d">listen</a> (long port=9991)</td></tr>
<tr class="memdesc:aece3ed957213b41813b5eafff259ad9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">starts the listen process on the servers port, and from there dispatches instances of TRequestHandler to service the connection <br /></td></tr>
<tr class="separator:aece3ed957213b41813b5eafff259ad9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263a0e7cedafc3def65be6278e894dbc"><td class="memItemLeft" align="right" valign="top"><a id="a263a0e7cedafc3def65be6278e894dbc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>terminate</b> ()</td></tr>
<tr class="separator:a263a0e7cedafc3def65be6278e894dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a903d110951861510bd885333ee22fb6c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#a903d110951861510bd885333ee22fb6c">verify</a> ()</td></tr>
<tr class="separator:a903d110951861510bd885333ee22fb6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4c031485802323ff872b76860413bf"><td class="memItemLeft" align="right" valign="top"><a id="acd4c031485802323ff872b76860413bf"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configSet_NumberOfConnections</b> (int num)</td></tr>
<tr class="separator:acd4c031485802323ff872b76860413bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf739f3cd5e055c0155ec6bc3cd9cc6"><td class="memItemLeft" align="right" valign="top"><a id="adcf739f3cd5e055c0155ec6bc3cd9cc6"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configSet_NumberOfThreads</b> (int num)</td></tr>
<tr class="separator:adcf739f3cd5e055c0155ec6bc3cd9cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f39cb7b348bb1bcd3a671bd2706b57"><td class="memItemLeft" align="right" valign="top"><a id="ab9f39cb7b348bb1bcd3a671bd2706b57"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configSet_HeartbeatInterval</b> (int millisecs)</td></tr>
<tr class="separator:ab9f39cb7b348bb1bcd3a671bd2706b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77afcf8dc54df4a24cdf7a1bd2d29aaf"><td class="memItemLeft" align="right" valign="top"><a id="a77afcf8dc54df4a24cdf7a1bd2d29aaf"></a>
static <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>get_instance</b> ()</td></tr>
<tr class="separator:a77afcf8dc54df4a24cdf7a1bd2d29aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>HTTP server class.  TRequestHandler is a template argument that must conform to <a class="el" href="class_request_handler_base.html">RequestHandlerBase</a> for a class that will handle an http request and send the necessary response. </p>
<p>Discussion of structure</p>
<p>TRequestHandler is a "user" provided class instance that actually handles a one or more request on a single connection.</p>
<p>connection_handler (<a class="el" href="class_connection_handler.html">ConnectionHandler</a>) wraps a single instance of TRequestHandler and manages the life cycle of that TRequestHandler instance, and thus represents the life time of a single client connection.</p>
<p>server_connection_manager (<a class="el" href="class_server_connection_manager.html">ServerConnectionManager</a>)</p><ul>
<li>only one of these exists. That instance</li>
<li>keeps track of a smart pointer to every active instane of <a class="el" href="class_connection_handler.html">ConnectionHandler</a> thereby ensures they stay in existence while active and can be deleted en-mass if/when the server needs to close down</li>
<li>limits the number of active <a class="el" href="class_connection_handler.html">ConnectionHandler</a> instances at any point in time to ensure that the server does not get overloaded. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5a5f52fff7b98136607a692aa06d8ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5f52fff7b98136607a692aa06d8ba4">&#9670;&nbsp;</a></span>HTTPServer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HTTPServer::HTTPServer </td>
          <td>(</td>
          <td class="paramtype">RequestHandlerFactory&#160;</td>
          <td class="paramname"><em>factory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct the server to listen on the specified TCP address and port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">long</td><td>port defaults to 9991 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a903d110951861510bd885333ee22fb6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903d110951861510bd885333ee22fb6c">&#9670;&nbsp;</a></span>verify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HTTPServer::verify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is for testing only and should be called after all clients have finished to verify that all connections are closed, all connection handlers have been deleted and all sockets are freed up </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>marvin/server/<a class="el" href="http__server_8hpp_source.html">http_server.hpp</a></li>
<li>marvin/server/http_server.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
