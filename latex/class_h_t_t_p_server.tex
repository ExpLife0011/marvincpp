\hypertarget{class_h_t_t_p_server}{}\section{H\+T\+T\+P\+Server Class Reference}
\label{class_h_t_t_p_server}\index{H\+T\+T\+P\+Server@{H\+T\+T\+P\+Server}}


H\+T\+TP server class.  T\+Request\+Handler is a template argument that must conform to \hyperlink{class_request_handler_base}{Request\+Handler\+Base} for a class that will handle an http request and send the necessary response.  




{\ttfamily \#include $<$http\+\_\+server.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_h_t_t_p_server_a3ccc2f74d6b566df84a08155a81dbf33}\label{class_h_t_t_p_server_a3ccc2f74d6b566df84a08155a81dbf33}} 
{\bfseries H\+T\+T\+P\+Server} (const \hyperlink{class_h_t_t_p_server}{H\+T\+T\+P\+Server} \&)=delete
\item 
\mbox{\Hypertarget{class_h_t_t_p_server_af0ff3249ee7308563225f0470f449ead}\label{class_h_t_t_p_server_af0ff3249ee7308563225f0470f449ead}} 
\hyperlink{class_h_t_t_p_server}{H\+T\+T\+P\+Server} \& {\bfseries operator=} (const \hyperlink{class_h_t_t_p_server}{H\+T\+T\+P\+Server} \&)=delete
\item 
\hyperlink{class_h_t_t_p_server_a5a5f52fff7b98136607a692aa06d8ba4}{H\+T\+T\+P\+Server} (Request\+Handler\+Factory factory)
\begin{DoxyCompactList}\small\item\em Construct the server to listen on the specified T\+CP address and port. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_h_t_t_p_server_aece3ed957213b41813b5eafff259ad9d}\label{class_h_t_t_p_server_aece3ed957213b41813b5eafff259ad9d}} 
void \hyperlink{class_h_t_t_p_server_aece3ed957213b41813b5eafff259ad9d}{listen} (long port=9991)
\begin{DoxyCompactList}\small\item\em starts the listen process on the servers port, and from there dispatches instances of T\+Request\+Handler to service the connection \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_h_t_t_p_server_a263a0e7cedafc3def65be6278e894dbc}\label{class_h_t_t_p_server_a263a0e7cedafc3def65be6278e894dbc}} 
void {\bfseries terminate} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \hyperlink{class_h_t_t_p_server_a903d110951861510bd885333ee22fb6c}{verify} ()
\item 
\mbox{\Hypertarget{class_h_t_t_p_server_acd4c031485802323ff872b76860413bf}\label{class_h_t_t_p_server_acd4c031485802323ff872b76860413bf}} 
static void {\bfseries config\+Set\+\_\+\+Number\+Of\+Connections} (int num)
\item 
\mbox{\Hypertarget{class_h_t_t_p_server_adcf739f3cd5e055c0155ec6bc3cd9cc6}\label{class_h_t_t_p_server_adcf739f3cd5e055c0155ec6bc3cd9cc6}} 
static void {\bfseries config\+Set\+\_\+\+Number\+Of\+Threads} (int num)
\item 
\mbox{\Hypertarget{class_h_t_t_p_server_ab9f39cb7b348bb1bcd3a671bd2706b57}\label{class_h_t_t_p_server_ab9f39cb7b348bb1bcd3a671bd2706b57}} 
static void {\bfseries config\+Set\+\_\+\+Heartbeat\+Interval} (int millisecs)
\item 
\mbox{\Hypertarget{class_h_t_t_p_server_a77afcf8dc54df4a24cdf7a1bd2d29aaf}\label{class_h_t_t_p_server_a77afcf8dc54df4a24cdf7a1bd2d29aaf}} 
static \hyperlink{class_h_t_t_p_server}{H\+T\+T\+P\+Server} $\ast$ {\bfseries get\+\_\+instance} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
H\+T\+TP server class.  T\+Request\+Handler is a template argument that must conform to \hyperlink{class_request_handler_base}{Request\+Handler\+Base} for a class that will handle an http request and send the necessary response. 

Discussion of structure

T\+Request\+Handler is a \char`\"{}user\char`\"{} provided class instance that actually handles a one or more request on a single connection.

connection\+\_\+handler (\hyperlink{class_connection_handler}{Connection\+Handler}) wraps a single instance of T\+Request\+Handler and manages the life cycle of that T\+Request\+Handler instance, and thus represents the life time of a single client connection.

server\+\_\+connection\+\_\+manager (\hyperlink{class_server_connection_manager}{Server\+Connection\+Manager})
\begin{DoxyItemize}
\item only one of these exists. That instance
\item keeps track of a smart pointer to every active instane of \hyperlink{class_connection_handler}{Connection\+Handler} thereby ensures they stay in existence while active and can be deleted en-\/mass if/when the server needs to close down
\item limits the number of active \hyperlink{class_connection_handler}{Connection\+Handler} instances at any point in time to ensure that the server does not get overloaded. 
\end{DoxyItemize}

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_h_t_t_p_server_a5a5f52fff7b98136607a692aa06d8ba4}\label{class_h_t_t_p_server_a5a5f52fff7b98136607a692aa06d8ba4}} 
\index{H\+T\+T\+P\+Server@{H\+T\+T\+P\+Server}!H\+T\+T\+P\+Server@{H\+T\+T\+P\+Server}}
\index{H\+T\+T\+P\+Server@{H\+T\+T\+P\+Server}!H\+T\+T\+P\+Server@{H\+T\+T\+P\+Server}}
\subsubsection{\texorpdfstring{H\+T\+T\+P\+Server()}{HTTPServer()}}
{\footnotesize\ttfamily H\+T\+T\+P\+Server\+::\+H\+T\+T\+P\+Server (\begin{DoxyParamCaption}\item[{Request\+Handler\+Factory}]{factory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Construct the server to listen on the specified T\+CP address and port. 


\begin{DoxyParams}{Parameters}
{\em long} & port defaults to 9991 \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_h_t_t_p_server_a903d110951861510bd885333ee22fb6c}\label{class_h_t_t_p_server_a903d110951861510bd885333ee22fb6c}} 
\index{H\+T\+T\+P\+Server@{H\+T\+T\+P\+Server}!verify@{verify}}
\index{verify@{verify}!H\+T\+T\+P\+Server@{H\+T\+T\+P\+Server}}
\subsubsection{\texorpdfstring{verify()}{verify()}}
{\footnotesize\ttfamily bool H\+T\+T\+P\+Server\+::verify (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

This is for testing only and should be called after all clients have finished to verify that all connections are closed, all connection handlers have been deleted and all sockets are freed up 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
marvin/server/http\+\_\+server.\+hpp\item 
marvin/server/http\+\_\+server.\+cpp\end{DoxyCompactItemize}
