\hypertarget{class_pipe_collector}{}\section{Pipe\+Collector Class Reference}
\label{class_pipe_collector}\index{Pipe\+Collector@{Pipe\+Collector}}


{\ttfamily \#include $<$pipe\+\_\+collector.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_pipe_collector_ad2a04b5f8e95e204cfe1d85bded0c92d}{Pipe\+Collector} (\hyperlink{class_pipe_collector}{Pipe\+Collector} const \&)=delete
\item 
\mbox{\Hypertarget{class_pipe_collector_ae286d157a61dbef510e1903ad245e96e}\label{class_pipe_collector_ae286d157a61dbef510e1903ad245e96e}} 
void {\bfseries operator=} (\hyperlink{class_pipe_collector}{Pipe\+Collector} const \&)=delete
\item 
void \hyperlink{class_pipe_collector_a4deab58d1636c9af54146df61f4d244c}{collect} (std\+::string \&scheme, std\+::string \&host, Message\+Reader\+S\+Ptr req, Message\+Writer\+S\+Ptr resp)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_pipe_collector_ad5f10086bc650dc13a1b620c2c425edb}\label{class_pipe_collector_ad5f10086bc650dc13a1b620c2c425edb}} 
static \hyperlink{class_pipe_collector}{Pipe\+Collector} $\ast$ {\bfseries get\+Instance} (boost\+::asio\+::io\+\_\+service \&io)
\item 
\mbox{\Hypertarget{class_pipe_collector_ab2b95b11b4910616abff4846fe291064}\label{class_pipe_collector_ab2b95b11b4910616abff4846fe291064}} 
static void {\bfseries config\+Set\+\_\+\+Pipe\+Path} (std\+::string path)
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_pipe_collector_ab599c19550e7b7d2534231c9e9d61375}\label{class_pipe_collector_ab599c19550e7b7d2534231c9e9d61375}} 
static bool {\bfseries \+\_\+first\+Time} = true
\item 
\mbox{\Hypertarget{class_pipe_collector_af8c74d185ce54c2193ec8f42ef099698}\label{class_pipe_collector_af8c74d185ce54c2193ec8f42ef099698}} 
static \hyperlink{class_pipe_collector}{Pipe\+Collector} $\ast$ {\bfseries \+\_\+instance} = N\+U\+LL
\item 
\mbox{\Hypertarget{class_pipe_collector_a1bbb1d5bd4d23738cc0e90e0a8644f55}\label{class_pipe_collector_a1bbb1d5bd4d23738cc0e90e0a8644f55}} 
static std\+::string {\bfseries \+\_\+pipe\+Path} = \char`\"{}\char`\"{}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is a singleton that requires to be primed with the servers io\+\_\+service object so that it (this class) can schedule callbacks. I chose to have the io\+\_\+service passed in the get\+Instance static method, that way cannot forget

In addition it needs the path name of the pipe to which it will write. That should be set via the static method config\+Set\+\_\+\+Pipe\+Path during the startup phase of the server.

This class also has a boost strand to protect against mutiple access to critical sections of code. B\+UT, this class also does synchronous stream IO which will delay whatever thread the strand is running on to prevent this delaying the entire proxy process the server should start an additional thread and connect it to the geneal io\+\_\+service to aleviate this issue. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_pipe_collector_ad2a04b5f8e95e204cfe1d85bded0c92d}\label{class_pipe_collector_ad2a04b5f8e95e204cfe1d85bded0c92d}} 
\index{Pipe\+Collector@{Pipe\+Collector}!Pipe\+Collector@{Pipe\+Collector}}
\index{Pipe\+Collector@{Pipe\+Collector}!Pipe\+Collector@{Pipe\+Collector}}
\subsubsection{\texorpdfstring{Pipe\+Collector()}{PipeCollector()}}
{\footnotesize\ttfamily Pipe\+Collector\+::\+Pipe\+Collector (\begin{DoxyParamCaption}\item[{\hyperlink{class_pipe_collector}{Pipe\+Collector} const \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

Delete copy constructors 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_pipe_collector_a4deab58d1636c9af54146df61f4d244c}\label{class_pipe_collector_a4deab58d1636c9af54146df61f4d244c}} 
\index{Pipe\+Collector@{Pipe\+Collector}!collect@{collect}}
\index{collect@{collect}!Pipe\+Collector@{Pipe\+Collector}}
\subsubsection{\texorpdfstring{collect()}{collect()}}
{\footnotesize\ttfamily void Pipe\+Collector\+::collect (\begin{DoxyParamCaption}\item[{std\+::string \&}]{scheme,  }\item[{std\+::string \&}]{host,  }\item[{Message\+Reader\+S\+Ptr}]{req,  }\item[{Message\+Writer\+S\+Ptr}]{resp }\end{DoxyParamCaption})}

Interface method for client code to call collect In here implement the creation the summary records but dont do any IO or sending leave that for posted\+Collect

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
marvin/collector/pipe\+\_\+collector.\+hpp\item 
marvin/collector/pipe\+\_\+collector.\+cpp\end{DoxyCompactItemize}
